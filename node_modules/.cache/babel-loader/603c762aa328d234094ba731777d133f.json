{"ast":null,"code":"var _jsxFileName = \"/Users/carlyciricillo/Documents/HES/Design Principles in React/assignment-2-car1sle/src/AppProvider.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { v4 as uuid } from \"uuid\";\nimport { useInterval } from \"./utils/hooks\";\nimport { translateToSeconds } from \"./utils/helpers\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AppContext = /*#__PURE__*/React.createContext({});\nexport const AppProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [timers, setTimers] = useState([]);\n  const [paused, setPaused] = useState(true);\n  const [activeIndex, setActiveIndex] = useState(0);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [needsReset, setNeedsReset] = useState(false);\n  useInterval(() => {\n    if (paused || activeIndex >= timers.length) return;\n\n    if (currentTime === timers[activeIndex].workoutDuration * timers[activeIndex].inputRounds) {\n      if (activeIndex === timers.length) {\n        setNeedsReset(true);\n      } else {\n        setActiveIndex(activeIndex + 1);\n        setCurrentTime(0);\n      }\n    } else {\n      setCurrentTime(c => c + 1);\n    }\n  }, 1000);\n\n  const reset = () => {\n    setActiveIndex(0);\n    setCurrentTime(0);\n    setPaused(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n    value: {\n      timers,\n      currentTime,\n      activeIndex,\n      setActiveIndex,\n      paused,\n      setPaused,\n      reset: reset,\n      needsReset,\n      createTimer: _ref2 => {\n        let {\n          timerType,\n          inputHours,\n          inputMinutes,\n          inputSeconds,\n          input2Hours,\n          input2Minutes,\n          input2Seconds,\n          inputRounds = 1\n        } = _ref2;\n        const id = uuid();\n        setTimers([...timers, {\n          id,\n          timerType,\n          inputRounds,\n          workoutDuration: translateToSeconds(inputHours, inputMinutes, inputSeconds),\n          restDuration: translateToSeconds(input2Hours, input2Minutes, input2Seconds),\n          totalDuration: translateToSeconds(inputHours, inputMinutes, inputSeconds) * inputRounds\n        }]);\n      },\n      removeTimer: index => setTimers(timers.filter((t, i) => i !== index))\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 7\n  }, this);\n};\n\n_s(AppProvider, \"R4GSWUJYQZLiXyqBf+QaNaboqMo=\", false, function () {\n  return [useInterval];\n});\n\n_c = AppProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"AppProvider\");","map":{"version":3,"names":["React","useState","v4","uuid","useInterval","translateToSeconds","AppContext","createContext","AppProvider","children","timers","setTimers","paused","setPaused","activeIndex","setActiveIndex","currentTime","setCurrentTime","needsReset","setNeedsReset","length","workoutDuration","inputRounds","c","reset","createTimer","timerType","inputHours","inputMinutes","inputSeconds","input2Hours","input2Minutes","input2Seconds","id","restDuration","totalDuration","removeTimer","index","filter","t","i"],"sources":["/Users/carlyciricillo/Documents/HES/Design Principles in React/assignment-2-car1sle/src/AppProvider.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { v4 as uuid } from \"uuid\";\nimport { useInterval } from \"./utils/hooks\";\nimport { translateToSeconds } from \"./utils/helpers\";\n\nexport const AppContext = React.createContext({});\n\nexport const AppProvider = ({ children }) => {\n\n    const [timers, setTimers] = useState([]);\n    const [paused, setPaused] = useState(true);\n    const [activeIndex, setActiveIndex] = useState(0);\n    const [currentTime, setCurrentTime] = useState(0);\n    const [needsReset, setNeedsReset] = useState(false);\n\n    useInterval(() => {\n\n      if (paused || activeIndex >= timers.length) return;\n\n      if (currentTime === timers[activeIndex].workoutDuration * timers[activeIndex].inputRounds) {\n          if (activeIndex === timers.length) {\n            setNeedsReset(true);\n          } else {\n            setActiveIndex(activeIndex + 1);\n            setCurrentTime(0);\n          }\n      } else {\n          setCurrentTime(c => c + 1);\n      }\n    }, 1000);\n\n    const reset = () => {\n      setActiveIndex(0);\n      setCurrentTime(0);\n      setPaused(true);\n    };\n\n    return (\n      <AppContext.Provider\n        value={{\n          timers,\n          currentTime,\n          activeIndex,\n          setActiveIndex,\n          paused,\n          setPaused,\n          reset: reset,\n          needsReset,\n          createTimer: ({ timerType, inputHours, inputMinutes, inputSeconds, input2Hours, input2Minutes, input2Seconds, inputRounds = 1 }) => {\n            const id = uuid();\n            setTimers([...timers, { \n              id, \n              timerType, \n              inputRounds, \n              workoutDuration: translateToSeconds(inputHours, inputMinutes, inputSeconds), \n              restDuration: translateToSeconds(input2Hours, input2Minutes, input2Seconds), \n              totalDuration: (translateToSeconds(inputHours, inputMinutes, inputSeconds) * inputRounds),\n            }]);\n          },\n          removeTimer: index => setTimers(timers.filter((t, i) => i !== index)),\n        }}\n      >\n        {children}\n      </AppContext.Provider>\n    );\n\n};"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,EAAE,IAAIC,IAAf,QAA2B,MAA3B;AACA,SAASC,WAAT,QAA4B,eAA5B;AACA,SAASC,kBAAT,QAAmC,iBAAnC;;AAEA,OAAO,MAAMC,UAAU,gBAAGN,KAAK,CAACO,aAAN,CAAoB,EAApB,CAAnB;AAEP,OAAO,MAAMC,WAAW,GAAG,QAAkB;EAAA;;EAAA,IAAjB;IAAEC;EAAF,CAAiB;EAEzC,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBV,QAAQ,CAAC,EAAD,CAApC;EACA,MAAM,CAACW,MAAD,EAASC,SAAT,IAAsBZ,QAAQ,CAAC,IAAD,CAApC;EACA,MAAM,CAACa,WAAD,EAAcC,cAAd,IAAgCd,QAAQ,CAAC,CAAD,CAA9C;EACA,MAAM,CAACe,WAAD,EAAcC,cAAd,IAAgChB,QAAQ,CAAC,CAAD,CAA9C;EACA,MAAM,CAACiB,UAAD,EAAaC,aAAb,IAA8BlB,QAAQ,CAAC,KAAD,CAA5C;EAEAG,WAAW,CAAC,MAAM;IAEhB,IAAIQ,MAAM,IAAIE,WAAW,IAAIJ,MAAM,CAACU,MAApC,EAA4C;;IAE5C,IAAIJ,WAAW,KAAKN,MAAM,CAACI,WAAD,CAAN,CAAoBO,eAApB,GAAsCX,MAAM,CAACI,WAAD,CAAN,CAAoBQ,WAA9E,EAA2F;MACvF,IAAIR,WAAW,KAAKJ,MAAM,CAACU,MAA3B,EAAmC;QACjCD,aAAa,CAAC,IAAD,CAAb;MACD,CAFD,MAEO;QACLJ,cAAc,CAACD,WAAW,GAAG,CAAf,CAAd;QACAG,cAAc,CAAC,CAAD,CAAd;MACD;IACJ,CAPD,MAOO;MACHA,cAAc,CAACM,CAAC,IAAIA,CAAC,GAAG,CAAV,CAAd;IACH;EACF,CAdU,EAcR,IAdQ,CAAX;;EAgBA,MAAMC,KAAK,GAAG,MAAM;IAClBT,cAAc,CAAC,CAAD,CAAd;IACAE,cAAc,CAAC,CAAD,CAAd;IACAJ,SAAS,CAAC,IAAD,CAAT;EACD,CAJD;;EAMA,oBACE,QAAC,UAAD,CAAY,QAAZ;IACE,KAAK,EAAE;MACLH,MADK;MAELM,WAFK;MAGLF,WAHK;MAILC,cAJK;MAKLH,MALK;MAMLC,SANK;MAOLW,KAAK,EAAEA,KAPF;MAQLN,UARK;MASLO,WAAW,EAAE,SAAuH;QAAA,IAAtH;UAAEC,SAAF;UAAaC,UAAb;UAAyBC,YAAzB;UAAuCC,YAAvC;UAAqDC,WAArD;UAAkEC,aAAlE;UAAiFC,aAAjF;UAAgGV,WAAW,GAAG;QAA9G,CAAsH;QAClI,MAAMW,EAAE,GAAG9B,IAAI,EAAf;QACAQ,SAAS,CAAC,CAAC,GAAGD,MAAJ,EAAY;UACpBuB,EADoB;UAEpBP,SAFoB;UAGpBJ,WAHoB;UAIpBD,eAAe,EAAEhB,kBAAkB,CAACsB,UAAD,EAAaC,YAAb,EAA2BC,YAA3B,CAJf;UAKpBK,YAAY,EAAE7B,kBAAkB,CAACyB,WAAD,EAAcC,aAAd,EAA6BC,aAA7B,CALZ;UAMpBG,aAAa,EAAG9B,kBAAkB,CAACsB,UAAD,EAAaC,YAAb,EAA2BC,YAA3B,CAAlB,GAA6DP;QANzD,CAAZ,CAAD,CAAT;MAQD,CAnBI;MAoBLc,WAAW,EAAEC,KAAK,IAAI1B,SAAS,CAACD,MAAM,CAAC4B,MAAP,CAAc,CAACC,CAAD,EAAIC,CAAJ,KAAUA,CAAC,KAAKH,KAA9B,CAAD;IApB1B,CADT;IAAA,UAwBG5B;EAxBH;IAAA;IAAA;IAAA;EAAA,QADF;AA6BH,CA3DM;;GAAMD,W;UAQTJ,W;;;KARSI,W"},"metadata":{},"sourceType":"module"}